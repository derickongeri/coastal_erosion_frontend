"use strict";(globalThis["webpackChunkmisland"]=globalThis["webpackChunkmisland"]||[]).push([[726],{3916:(e,s,t)=>{t.r(s),t.d(s,{default:()=>C});var a=t(9835),i=t(1957),l=t(6970);const n={class:"q-pa-md login-card absolute-center",style:{"max-width":"100%"}},o={class:"text-center text-primary",style:{height:"fit-content"}},d={class:"q-px-md q-my-none q-pb-xs",style:{"font-weight":"700","font-size":"21px"}},r={class:"text-primary q-py-xs q-px-md q-mt-lg"},u={class:"col q-gutter-md text-center q-ma-none"};function p(e,s,t,p,c,m){const w=(0,a.up)("q-icon"),f=(0,a.up)("q-input"),b=(0,a.up)("q-btn"),h=(0,a.up)("q-form"),v=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(v,{padding:"",class:"page-tint bg-white"},{default:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a.Wm)(h,{onSubmit:s[4]||(s[4]=(0,i.iM)((()=>{}),["prevent"]))},{default:(0,a.w5)((()=>[(0,a._)("div",o,[(0,a._)("h6",d,(0,l.zw)(e.$t("updatePassword")),1)]),(0,a._)("div",r,[(0,a._)("div",null,[(0,a.Wm)(f,{type:e.isPwd?"password":"text",rounded:"",outlined:"",dense:"",modelValue:e.form.password,"onUpdate:modelValue":s[1]||(s[1]=s=>e.form.password=s),label:e.$t("newPassword"),"lazy-rules":"",rules:[e=>e&&e.length>0||"Field is required *"]},{append:(0,a.w5)((()=>[(0,a.Wm)(w,{size:"xs",name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:s[0]||(s[0]=s=>e.isPwd=!e.isPwd)},null,8,["name"])])),_:1},8,["type","modelValue","label","rules"])]),(0,a._)("div",null,[(0,a.Wm)(f,{type:e.isPwd?"password":"text",rounded:"",outlined:"",dense:"",modelValue:e.confirmedpassword,"onUpdate:modelValue":s[3]||(s[3]=s=>e.confirmedpassword=s),label:e.$t("confirmPassword"),"lazy-rules":"",rules:[e=>e&&e.length>0||"Field is required *",s=>s===e.form.password||"passwords should match"]},{append:(0,a.w5)((()=>[(0,a.Wm)(w,{size:"xs",name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:s[2]||(s[2]=s=>e.isPwd=!e.isPwd)},null,8,["name"])])),_:1},8,["type","modelValue","label","rules"])])]),(0,a._)("div",u,[(0,a.Wm)(b,{style:{"font-weight":"400","font-size":"16px"},"no-caps":"",type:"submit",class:"q-px-xl",unelevated:"",rounded:"",color:"primary",label:e.$t("submit"),onClick:e.updatePassword},null,8,["label","onClick"])])])),_:1})])])),_:1})}t(9665);var c=t(499),m=t(5239),w=t(8957),f=t(8339);const b=(0,a.aZ)({setup(){const e=(0,f.tv)(),{register:s,updateUserPassword:t}=(0,m.Z)(),{notifyError:i,notifySuccess:l}=(0,w.Z)(),n=(0,c.iH)(""),o=(0,c.iH)({token:"",uid:"",password:""});(0,a.bv)((()=>{var e=window.location.href,s=e.indexOf("access_token=")+"access_token=".length,t=e.indexOf("uid=")+"uid=".length;o.value.token=e.substring(s,e.indexOf("&",s)),o.value.uid=e.substring(t,e.length)}));const d=async()=>{if(n.value===o.value.password)try{await t(o.value),l("Success"),e.push({name:"home"})}catch(s){i(s.message)}else i("Your passwords do not match")};return{form:o,confirmedpassword:n,updatePassword:d,isPwd:(0,c.iH)(!0)}}});var h=t(1639),v=t(9885),y=t(8326),g=t(136),x=t(8879),q=t(6611),P=t(2857),_=t(2146),k=t(9984),Z=t.n(k);const z=(0,h.Z)(b,[["render",p]]),C=z;Z()(b,"components",{QPage:v.Z,QForm:y.Z,QSpace:g.Z,QBtn:x.Z,QInput:q.Z,QIcon:P.Z}),Z()(b,"directives",{ClosePopup:_.Z})}}]);